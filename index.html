<!doctype html>
<html>
    <head>
        <meta charset="UTF-8" />
        <title>ld35!</title>
        <script src="phaser.min.js"></script>
    </head>
    <body>

    <script type="text/javascript">

    window.onload = function() {

        var game = new Phaser.Game(800, 600, Phaser.AUTO, '', { preload: preload, create: create, update: update });

        function preload () {

            game.load.spritesheet('ship', 'ship.png', 64, 64, 24);
            game.load.image('bg', 'bg.png');
            game.load.image('ground', 'platform.png');

        }

        var player;
        var platforms;
        var cursors;
        var fire;
        function create () {

            // var logo = game.add.sprite(game.world.centerX, game.world.centerY, 'logo');
            // logo.anchor.setTo(0.5, 0.5);


            game.add.sprite(0, 0, 'bg');

            player = game.add.sprite(64, game.world.height - 90, 'ship', 2);
            fire = game.add.sprite(0, 56, 'ship', 13);
            player.addChild(fire);

            bullets = game.add.group();

            fire.animations.add('run',[13, 12], 5, true);
            fire.animations.play('run');
            // player.animations.add('right',[0], 1, true);

            //  Our controls.
            cursors = game.input.keyboard.createCursorKeys();
        }

    function update() {
        var velocity = .20;
        if (cursors.left.isDown)
        {
            //  Move to the left
            player.x -= game.time.elapsed * velocity;
            if(player.x < 0){
                player.x = game.world.width;
            }
        }
        else if (cursors.right.isDown)
        {
            //  Move to the right
            player.x += game.time.elapsed * velocity;
            if(player.x > game.world.width){
                player.x = 0;
            }
        }
        else
        {
            //  Stand still

        }
        // fire.body.velocity.x = 0;
        
        // //  Allow the player to jump if they are touching the ground.
        // if (cursors.up.isDown && player.body.touching.down)
        // {
        //     player.body.velocity.y = -350;
        // }
    }

    };
    </script>

    </body>
</html>